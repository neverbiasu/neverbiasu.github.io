"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[1041],{6262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,e]of i)a[s]=e;return a}},6470:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>l,data:()=>t});var e=a(641);const n={},l=(0,a(6262).A)(n,[["render",function(s,i){return(0,e.uX)(),(0,e.CE)("div",null,i[0]||(i[0]=[(0,e.Fv)('<p>Hi this is Crody from Team-C: creator of Nova Series</p><p>In this article, I&#39;ll write down what kind of merge I use with some knowledge about SDXL models For how I do, please read Merge Scripter Guide first</p><h2 id="_1-weighted-sum-sum-twice" tabindex="-1"><a class="header-anchor" href="#_1-weighted-sum-sum-twice"><span>1. Weighted Sum / Sum Twice</span></a></h2><p>Weighted Sum (WS) merges 2 models, Sum Twice (ST) merges first 2 and 1 model (which means doing WS twice) You can use Block Merge as well Using alpha (and beta) to determine how much similarity the result have Higher value means the results would be similar to latter model</p><h3 id="mms-text" tabindex="-1"><a class="header-anchor" href="#mms-text"><span>MMS Text:</span></a></h3><h4 id="ws" tabindex="-1"><a class="header-anchor" href="#ws"><span>WS</span></a></h4><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM A + B alpha Result</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">A = 1 - alpha</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">B = alpha</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="st" tabindex="-1"><a class="header-anchor" href="#st"><span>ST</span></a></h4><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM A + B +S C alpha beta Result</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">A = (1 - alpha) * (1 - beta)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">B = alpha * (1 - beta)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">C = alpha * beta</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="triple-sum-trs" tabindex="-1"><a class="header-anchor" href="#triple-sum-trs"><span>Triple Sum (TRS)</span></a></h4><p>Triple Sum (TRS) Merges 3 models with independent ratios</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM A + B +T C alpha beta Result</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">A = 1 - (alpha + beta)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">B = alpha</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">C = beta</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-add-difference" tabindex="-1"><a class="header-anchor" href="#_2-add-difference"><span>2. Add Difference</span></a></h2><p>Add Difference (AD) merges the difference between latter 2 models into the first model This can be used when the model needs additional information</p><h3 id="mms-text-1" tabindex="-1"><a class="header-anchor" href="#mms-text-1"><span>MMS Text:</span></a></h3><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM A + B - C alpha Result</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">A + ((B - C) * alpha)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-block-merge" tabindex="-1"><a class="header-anchor" href="#_3-block-merge"><span>3. Block Merge</span></a></h2><p>The way to handle values independently for each parts I&#39;ll write down what kind of value it has on below</p><h3 id="overall-analysis" tabindex="-1"><a class="header-anchor" href="#overall-analysis"><span>Overall analysis:</span></a></h3><ul><li>BASE : text encoder</li><li>IN00 - IN05 : handles anatomy and details</li><li>IN06 - IN08 : handles tone and poses</li><li>MID00 : over all similarity</li><li>OUT00 - OUT03 : handles shape of face and body</li><li>OUT04 - OUT08 : handles textures</li></ul><p>BASE: text encoder, handles what kind of system you use This also handles the prompt encoding :</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>if you merge SDXL 1.0 models and Pony models with 0.3 BASE, it results in gray images or worse results (using DARE merge also leads in same result so I recommend to set it 0 or 1)</p></div><p>if the base structure is same (Illustrious and NoobAI shares same structure), the BASE can be in between 0 to 1 using DARE merge</p><p>IN00: handles overall inputs, outlines, contrast and fingers To avoid finger errors in Illustrious models, I don&#39;t recommend float value (other than 0 and 1) for this as well</p><p>IN01: handles background, depth of view and some details in hair and clothes</p><p>IN02 and IN03: handles anatomy details, hair and clothes</p><p>IN04 and IN05: handles textures, body anatomy and behavior for NSFW prompts</p><p>IN06: handles clothing texture and details</p><p>IN07: handles pose structures</p><p>IN08: handles texture feels, depth and anatomy base</p><p>MID00: handles how much it looks like to the latter model This also handles prompt adherence and drawing style as well</p><p>OUT00: handles torso, face structure, age and eyes</p><p>OUT01: handles upper body and face shape</p><p>OUT02: handles body curves, nose and ears</p><p>OUT03: handles skin color and mouth</p><p>OUT04 and OUT05: handles overall texture and smooth lights</p><p>OUT06: handles overall texture and hard lights</p><p>OUT07: handles overall colors and rough draw lines</p><p>OUT08: handles output, colors and drawing lines</p><h3 id="mms-text-2" tabindex="-1"><a class="header-anchor" href="#mms-text-2"><span>MMS Text:</span></a></h3><p>Replace the alpha (beta) with following</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&quot;BASE, IN00, IN01, IN02, IN03, IN04, IN05, IN06, IN07, IN08, MID00, OUT00, OUT01, OUT02, OUT03, OUT04, OUT05, OUT06, OUT07, OUT08&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Replacing each named block with float value in 0 - 1 do the job For example, if you want to merge 2 models using WS with 0.4 for posing and facial structure, model likeness with 0.3 and other is 0, you can do the following</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM A + B &quot;0,0,0,0,0,0,0,0.4,0.4,0.4,0.3,0.4,0.4,0.4,0.4,0,0,0,0,0&quot; Result</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-fine-tuning" tabindex="-1"><a class="header-anchor" href="#_4-fine-tuning"><span>4. Fine Tuning</span></a></h2><p>Handles details, contrast, brightness and colors with using 8 values</p><ul><li>Detail-IN (default:1)</li><li>Detail-MID (default:1)</li><li>Detail-OUT (default:1)</li><li>Contrast (default:1)</li><li>Brightness (default:1)</li><li>Red/Cyan (default:0)</li><li>Green/Magenta (default:0)</li><li>Blue/Yellow (default:0)</li></ul><p>For detail values (1-3), make the sum of them around 3.0 and highest value in 1.3 If you have higher contrast, make the brightness high as well If you change the detail values, please block merge model&#39;s IN00 afterwards to maintain the finger details</p><p>Notebook edit (MMS cannot determine finetune value):</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--fine &quot;DtIN,DtMID,DtOUT,CONT,BRIG,RED,GREEN,BLUE \\</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Replace each value with float would do the job</p><h2 id="_5-example-merge-using-techniques-above" tabindex="-1"><a class="header-anchor" href="#_5-example-merge-using-techniques-above"><span>5. Example Merge using techniques above</span></a></h2><p>MMS text:</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+NA, https://civitai.com/models/376130?modelVersionId=1474209 </span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+NO, https://civitai.com/models/967405/nova-orange-xl </span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+NU, https://civitai.com/models/982047?modelVersionId=1445113</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM NA + NO +S NU &quot;0,1,1,0.2,0.2,0.3,0.3,0,0,0,0,0.2,0.1,0.1,0.1,0.4,0.4,0.4,0.4,0.4&quot; &quot;0,0,0,0.3,0.3,0.2,0.2,0.3,0,0,0,0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.2,0.2&quot; _A</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-NA</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-NU</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM _A + NO &quot;0,1,0,0,0,0,0,0,0.2,0.2,0,0.3,0,0,0,0,0,0,0,0&quot; TestResult</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Notebook edit: (add fine tune)</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ST&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/models/&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;NA.safetensors&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;NO.safetensors&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --model_2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;NU.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\ </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--vae</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/vae/VAE.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\ </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--alpha</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;0,1,1,0.2,0.2,0.3,0.3,0,0,0,0,0.2,0.1,0.1,0.1,0.4,0.4,0.4,0.4,0.4&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\ </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--beta</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;0,0,0,0.3,0.3,0.2,0.2,0.3,0,0,0,0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.2,0.2&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\ </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--fine</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;1.1,1,0.9,1.2,1.1,0,0,0 \\ </span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">--save_half --prune --save_safetensors --output &quot;TEMP_A&quot;  </span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">flush() </span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">TEMP_A = model(&quot;TEMP_A&quot;,1)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">remove_model(NA)</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">remove_model(NU)</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">flush()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">!python merge.py &quot;WS&quot; &quot;/kaggle/tmp/models/&quot; &quot;TEMP_A.safetensors&quot; &quot;NO.safetensors&quot; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">--vae &quot;/kaggle/tmp/vae/VAE.safetensors&quot; \\  </span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">--alpha &quot;0,1,0,0,0,0,0,0,0.2,0.2,0,0.3,0,0,0,0,0,0,0,0&quot; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">--save_half --prune --save_safetensors --output &quot;TestResult&quot;  </span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">flush()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-bonus-nova-furry-xl-illustrious-v5-0-merge" tabindex="-1"><a class="header-anchor" href="#_6-bonus-nova-furry-xl-illustrious-v5-0-merge"><span>6. Bonus: Nova Furry XL Illustrious v5.0 Merge</span></a></h2><p>In addition, you can use LoRAs to make style / details correctly</p><p>MMS text I used for creating Nova Furry XL Illustrious v5.0:</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+NF, https://civitai.com/models/503815/nova-furry-xl?modelVersionId=1402403</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+SN, https://civitai.com/models/1194136/illustrious-snafu-super-nova-anime-furry-unified</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+AL, https://civitai.com/models/1273793/alien-furry-mix-illustrious?modelVersionId=1436977</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+YF, https://civitai.com/models/3671/yiffymix?modelVersionId=1447249</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+I1, https://huggingface.co/Liberata/illustrious-xl-v1.0/blob/main/Illustrious-XL-v1.0.safetensors</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+IE, https://civitai.com/models/1131941?modelVersionId=1423821, %LR</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+KF, https://civitai.com/models/1010673?modelVersionId=1132889, %LR</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM NF + AL - SN 0.7 _A</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-AL</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-SN</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM _A + YF &quot;0,0,0,0,0,0.2,0.2,0.3,0.2,0.2,0,0.3,0.2,0.2,0.1,0,0,0,0,0&quot; _B</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-_A</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-YF</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM _B +D I1 0.5 0.1 _C</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-_B</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-I1</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LB _C IE:0.6,KF:0.4 _D</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-IE</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-KF</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">PR _D _E</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-_D</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM _C + _D +S NF &quot;1,0,0,0.3,0.3,0.4,0.4,0,0,0,0,0.3,0.2,0.2,0.2,0.3,0.3,0.3,0.3,0.3&quot; &quot;0,0,0,0,0,0,0,0.2,0.3,0.3,0,0.2,0.2,0.2,0.2,0.4,0.4,0.4,0.4,0.4&quot; NovaFurryILV5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Notebook (edited to have finetune and change DARE alpha into 0.5):</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">%cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /kaggle/working/merge-models</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">NF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;https://civitai.com/models/503815/nova-furry-xl?modelVersionId=1402403&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;NF&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;checkpoint&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;https://civitai.com/models/1194136/illustrious-snafu-super-nova-anime-furry-unified&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;SN&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;checkpoint&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">AL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;https://civitai.com/models/1273793/alien-furry-mix-illustrious?modelVersionId=1436977&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;AL&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;checkpoint&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">YF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;https://civitai.com/models/3671/yiffymix?modelVersionId=1447249&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;YF&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;checkpoint&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">I1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;https://huggingface.co/Liberata/illustrious-xl-v1.0/blob/main/Illustrious-XL-v1.0.safetensors&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;I1&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;checkpoint&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;https://civitai.com/models/1131941?modelVersionId=1423821&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;IE&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;lora&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">KF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> custom_model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;https://civitai.com/models/1010673?modelVersionId=1132889&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;KF&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;lora&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;AD&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/models/&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;NF.safetensors&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;AL.safetensors&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --model_2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;SN.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--vae </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/kaggle/tmp/vae/VAE.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--alpha </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.7</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--save_half </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--prune</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --save_safetensors</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_A&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TEMP_A</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;TEMP_A&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(AL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(SN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;WS&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/models/&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_A.safetensors&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;YF.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--vae </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/kaggle/tmp/vae/VAE.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--alpha </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0,0,0,0,0,0.2,0.2,0.3,0.2,0.2,0,0.3,0.2,0.2,0.1,0,0,0,0,0&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--fine </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1.1,1,1,0.9,1,0,0,0&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--save_half </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--prune</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --save_safetensors</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_B&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TEMP_B</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;TEMP_B&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(TEMP_A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(YF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;DARE&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/models/&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_B.safetensors&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;I1.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--vae </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/kaggle/tmp/vae/VAE.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--alpha </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.5</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--beta </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--save_half </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--prune</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --save_safetensors</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_C&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TEMP_C</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;TEMP_C&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(TEMP_B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(I1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lora_bake.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/models/&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_C.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;IE.safetensors:0.6,KF.safetensors:0.4&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--save_safetensors </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_D&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TEMP_D</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;TEMP_D&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(IE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(KF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;NoIn&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/models/&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_D.safetensors&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> None</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--vae </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/kaggle/tmp/vae/VAE.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--save_half </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--prune</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --save_safetensors</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_E&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TEMP_E</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">model</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;TEMP_E&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove_model(TEMP_D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">!</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> merge.py</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ST&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;/kaggle/tmp/models/&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_C.safetensors&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TEMP_E.safetensors&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --model_2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;NF.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--vae </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/kaggle/tmp/vae/VAE.safetensors&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--alpha </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1,0,0,0.3,0.3,0.4,0.4,0,0,0,0,0.3,0.2,0.2,0.2,0.3,0.3,0.3,0.3,0.3&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--beta </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0,1,0,0,0,0,0,0.2,0.3,0.3,0,0.2,0.2,0.2,0.2,0.4,0.4,0.4,0.4,0.4&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--save_half </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--prune</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --save_safetensors</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;NovaFurryILV5&quot;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flush</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Brief context of the MMS Text:</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+NF, https://civitai.com/models/503815/nova-furry-xl?modelVersionId=1402403</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Download Checkpoint</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">+IE, https://civitai.com/models/1131941?modelVersionId=1423821, %LR</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Download LoRA</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">_A</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>TEMP_A, names that starts with _ becomes TEMP model</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-AL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Removes the model: AL</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">CM _B +D I1 0.5 0.1 _C</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Merge Illustrious v1.0 (I1) into TEMP_B using DARE merge alpha sets to 0.5, likeness value sets to 0.1</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LB _C IE:0.6,KF:0.4 _D</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Merge LoRA into TEMP_C, IE with alpha 0.6 and KF with alpha 0.4</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" data-title="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">PR _D _E</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Prune TEMP_D and save it as TEMP_E LoRA Merge results in bigger file so in order to do the further merges and saving, please do this</p>',80)]))}]]),t=JSON.parse('{"path":"/posts/reprints/crody\'s-model-merge-guide.html","title":"Crody\'s Model Merge Guide // Team-C","lang":"en-US","frontmatter":{"title":"Crody\'s Model Merge Guide // Team-C","cover":"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/2d3f67d3-4906-46b0-b27c-63ba7376cca7/width=1320/00000_2500974118.jpeg","date":"2025-03-14T00:00:00.000Z","author":"Crody","tags":["resource guide","script","stable diffusion","merge","model"],"description":"Hi this is Crody from Team-C: creator of Nova Series In this article, I\'ll write down what kind of merge I use with some knowledge about SDXL models For how I do, please read Me...","gitInclude":[],"head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://neverbiasu.github.io/zh/posts/reprints/crody\'s-model-merge-guide.html"}],["meta",{"property":"og:url","content":"https://neverbiasu.github.io/posts/reprints/crody\'s-model-merge-guide.html"}],["meta",{"property":"og:site_name","content":"Nlog"}],["meta",{"property":"og:title","content":"Crody\'s Model Merge Guide // Team-C"}],["meta",{"property":"og:description","content":"Hi this is Crody from Team-C: creator of Nova Series In this article, I\'ll write down what kind of merge I use with some knowledge about SDXL models For how I do, please read Me..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/2d3f67d3-4906-46b0-b27c-63ba7376cca7/width=1320/00000_2500974118.jpeg"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/2d3f67d3-4906-46b0-b27c-63ba7376cca7/width=1320/00000_2500974118.jpeg"}],["meta",{"name":"twitter:image:alt","content":"Crody\'s Model Merge Guide // Team-C"}],["meta",{"property":"article:author","content":"Crody"}],["meta",{"property":"article:tag","content":"resource guide"}],["meta",{"property":"article:tag","content":"script"}],["meta",{"property":"article:tag","content":"stable diffusion"}],["meta",{"property":"article:tag","content":"merge"}],["meta",{"property":"article:tag","content":"model"}],["meta",{"property":"article:published_time","content":"2025-03-14T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Crody\'s Model Merge Guide // Team-C\\",\\"image\\":[\\"https://image.civitai.com/xG1nkqKTMzGDvpLrqFT7WA/2d3f67d3-4906-46b0-b27c-63ba7376cca7/width=1320/00000_2500974118.jpeg\\"],\\"datePublished\\":\\"2025-03-14T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Crody\\"}]}"]]},"headers":[{"level":2,"title":"1. Weighted Sum / Sum Twice","slug":"_1-weighted-sum-sum-twice","link":"#_1-weighted-sum-sum-twice","children":[{"level":3,"title":"MMS Text:","slug":"mms-text","link":"#mms-text","children":[]}]},{"level":2,"title":"2. Add Difference","slug":"_2-add-difference","link":"#_2-add-difference","children":[{"level":3,"title":"MMS Text:","slug":"mms-text-1","link":"#mms-text-1","children":[]}]},{"level":2,"title":"3. Block Merge","slug":"_3-block-merge","link":"#_3-block-merge","children":[{"level":3,"title":"Overall analysis:","slug":"overall-analysis","link":"#overall-analysis","children":[]},{"level":3,"title":"MMS Text:","slug":"mms-text-2","link":"#mms-text-2","children":[]}]},{"level":2,"title":"4. Fine Tuning","slug":"_4-fine-tuning","link":"#_4-fine-tuning","children":[]},{"level":2,"title":"5. Example Merge using techniques above","slug":"_5-example-merge-using-techniques-above","link":"#_5-example-merge-using-techniques-above","children":[]},{"level":2,"title":"6. Bonus: Nova Furry XL Illustrious v5.0 Merge","slug":"_6-bonus-nova-furry-xl-illustrious-v5-0-merge","link":"#_6-bonus-nova-furry-xl-illustrious-v5-0-merge","children":[]}],"readingTime":{"minutes":5.18,"words":1553},"filePathRelative":"posts/reprints/crody\'s-model-merge-guide.md","localizedDate":"March 14, 2025","excerpt":"<p>Hi this is Crody from Team-C: creator of Nova Series</p>\\n<p>In this article, I\'ll write down what kind of merge I use with some knowledge about SDXL models\\nFor how I do, please read Merge Scripter Guide first</p>\\n<h2>1. Weighted Sum / Sum Twice</h2>\\n<p>Weighted Sum (WS) merges 2 models, Sum Twice (ST) merges first 2 and 1 model (which means doing WS twice)\\nYou can use Block Merge as well\\nUsing alpha (and beta) to determine how much similarity the result have\\nHigher value means the results would be similar to latter model</p>","autoDesc":true}')}}]);